<!DOCTYPE html>
<!-- saved from url=(0082) -->
<html data-ember-extension="1"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


  <title>client - The Go Programming Language</title>

<link type="text/css" rel="stylesheet" href="./doc_files/style.css">

<link rel="stylesheet" href="./doc_files/jquery.treeview.css">
<script src="./doc_files/cb=gapi.loaded_1" async=""></script><script src="./doc_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./doc_files/platform.js" gapi_processed="true"></script><script type="text/javascript">window.initFuncs = [];</script>
</head>
<body>

<div id="page" class="wide" tabindex="-1" style="outline: 0px;">
<div class="container">
  <h1>Package client</h1>

<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script type="text/javascript">
        document.ANALYSIS_DATA = null;
        document.CALLGRAPH = null;
        </script>



		<div id="short-nav">
			<dl>
			<dd><code>import "git.ares-ensiie.eu/hackathon/hackathon-go-client/client"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index" class="indexLink">Index</a></dd>


			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Package client : fournit une interface simple et efficace pour communiquer
avec le serveur du hackathon. Pas besoin de vous embêter avec le réseau
ce package s'en charge pour vous.
</p>
<p>
Le package va automatiquement gérer le réseau et les conditions gagnantes.
La structure conseillée est la suivante:
</p>
<pre>func main() {
  c := client.NewClient()
  err := c.Connect("127.0.0.1:1337", "MonEquipe")
  if err != nil {
    // Traiter l'erreur
  }
  for c.Status() == ONGOING {
    err = c.NextTurn()
    if err != nil {
      // Traiter l'erreur
    }
    if c.Status() != ONGOING {
      break
    }
    // Prendre des descisions...
  }
}
</pre>
<p>
Author: Ares
</p>

			</div>
		</div>


		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>

				<dd><a href="#pkg-constants">Constants</a></dd>





				<dd><a href="#Cell">type Cell</a></dd>




				<dd><a href="#Client">type Client</a></dd>


					<dd>&nbsp; &nbsp; <a href="#NewClient">func NewClient() *Client</a></dd>



					<dd>&nbsp; &nbsp; <a href="#Client.AddUnit">func (c *Client) AddUnit(cell *Cell) error</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.AddUnits">func (c *Client) AddUnits(cell *Cell, count int) error</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.AddUnitsList">func (c *Client) AddUnitsList(cells []*Cell) error</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.Attack">func (c *Client) Attack(fromX, fromY, toX, toY int) error</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.Connect">func (c *Client) Connect(url string, teamName string) error</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.EndAddingUnits">func (c *Client) EndAddingUnits() error</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.EndAttacks">func (c *Client) EndAttacks() (int, error)</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.Get">func (c *Client) Get(x, y int) *Cell</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.GetField">func (c *Client) GetField() *Field</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.GetMap">func (c *Client) GetMap() *Field</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.MyCells">func (c *Client) MyCells() []*Cell</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.NextTurn">func (c *Client) NextTurn() error</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.RemainingUnits">func (c *Client) RemainingUnits() int</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Client.Status">func (c *Client) Status() int</a></dd>



				<dd><a href="#Field">type Field</a></dd>



					<dd>&nbsp; &nbsp; <a href="#Field.Get">func (f *Field) Get(x, y int) *Cell</a></dd>


					<dd>&nbsp; &nbsp; <a href="#Field.OwnedBy">func (f *Field) OwnedBy(p int) []*Cell</a></dd>



			</dl>
			</div><!-- #manual-nav -->




			<h4>Package files</h4>
			<p>
			<span style="font-size:90%">

				<a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/attack.go">attack.go</a>

				<a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/client.go">client.go</a>

				<a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go">field.go</a>

				<a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/placement.go">placement.go</a>

			</span>
			</p>

		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		<div id="pkg-callgraph" class="toggle" style="display: none">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Internal Call Graph section">Internal call graph ▹</h2>
		</div> <!-- .expanded -->
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Internal Call Graph section">Internal call graph ▾</h2>
                        <p>
                          In the call graph viewer below, each node
                          is a function belonging to this package
                          and its children are the functions it
                          calls—perhaps dynamically.
                        </p>
                        <p>
                          The root nodes are the entry points of the
                          package: functions that may be called from
                          outside the package.
                          There may be non-exported or anonymous
                          functions among them if they are called
                          dynamically from another package.
                        </p>
                        <p>
                          Click a node to visit that function's source code.
                          From there you can visit its callers by
                          clicking its declaring <code>func</code>
                          token.
                        </p>
                        <p>
                          Functions may be omitted if they were
                          determined to be unreachable in the
                          particular programs or tests that were
                          analyzed.
                        </p>
                        <!-- Zero means show all package entry points. -->
                        <ul style="margin-left: 0.5in" id="callgraph-0" class="treeview"></ul>

		</div>
		</div> <!-- #pkg-callgraph -->


			<h2 id="pkg-constants">Constants</h2>

				<pre>const (
    <span id="TOP">TOP</span> = <a href="http://localhost:6060/pkg/builtin/#iota">iota</a>
    <span id="RIGHT">RIGHT</span>
    <span id="BOTTOM">BOTTOM</span>
    <span id="LEFT">LEFT</span>
)</pre>
				<p>
Directions
</p>


				<pre>const (
    <span id="ONGOING">ONGOING</span> = <a href="http://localhost:6060/pkg/builtin/#iota">iota</a>
    <span id="VICTORY">VICTORY</span>
    <span id="DEFEAT">DEFEAT</span>
    <span id="CONNECTION_LOST">CONNECTION_LOST</span>
)</pre>
				<p>
Statuts
</p>








			<h2 id="Cell">type <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=179:346#L3">Cell</a></h2>
			<pre>type Cell struct {
    Owner <a href="http://localhost:6060/pkg/builtin/#int">int</a> <span class="comment">// identifiant numérique du propriétaire</span>
    Power <a href="http://localhost:6060/pkg/builtin/#int">int</a> <span class="comment">// Nombre d'unités disponibles</span>
    X     <a href="http://localhost:6060/pkg/builtin/#int">int</a> <span class="comment">// Position X</span>
    Y     <a href="http://localhost:6060/pkg/builtin/#int">int</a> <span class="comment">// Position Y</span>
}</pre>
			<p>
Cell décrit une cellule du champ de bataille
</p>
















			<h2 id="Client">type <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/client.go?s=961:1143#L40">Client</a></h2>
			<pre>type Client struct {
    Name <a href="http://localhost:6060/pkg/builtin/#string">string</a>
    ID   <a href="http://localhost:6060/pkg/builtin/#int">int</a>
    <span class="comment">// contains filtered or unexported fields</span>
}</pre>
			<p>
Structure principale pour la gestion du client
</p>












				<h3 id="NewClient">func <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/client.go?s=1290:1314#L53">NewClient</a></h3>
				<pre>func NewClient() *<a href="#Client">Client</a></pre>
				<p>
NewClient : Permet d'initialiser une instance d'un client. C'est la première
chose à faire avant de pouvoir communiquer avec le serveur.
</p>







				<h3 id="Client.AddUnit">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/placement.go?s=435:477#L8">AddUnit</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) AddUnit(cell *<a href="#Cell">Cell</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
AddUnit ajoute une unité sur la cellule passée en paramètre.
</p>
<p>
Si la fonction renvoie une erreur cela signifie que vous avez dépassé
le nombre maximum d'unités.
</p>
<p>
Le champ de bataille sera mis à jour uniquement après l'appel de la
méthode EndAddingUnits.
</p>






				<h3 id="Client.AddUnits">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/placement.go?s=913:967#L24">AddUnits</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) AddUnits(cell *<a href="#Cell">Cell</a>, count <a href="http://localhost:6060/pkg/builtin/#int">int</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
AddUnits ajoute count unités sur la cellule passée en paramètre.
</p>
<p>
Si la fonction renvoie une erreur cela signifie que vous avez dépassé
le nombre maximum d'unités.
</p>
<p>
Le champ de bataille sera mis à jour uniquement après l'appel de la
méthode EndAddingUnits.
</p>






				<h3 id="Client.AddUnitsList">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/placement.go?s=1386:1436#L42">AddUnitsList</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) AddUnitsList(cells []*<a href="#Cell">Cell</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
AddUnitsList ajoute une unité chacune des cellules de la liste passée en
paramètre.
</p>
<p>
Si la fonction renvoie une erreur cela signifie que vous avez dépassé
le nombre maximum d'unités.
</p>
<p>
Le champ de bataille sera mis à jour uniquement après l'appel de la
méthode EndAddingUnits.
</p>






				<h3 id="Client.Attack">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/attack.go?s=465:522#L2">Attack</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) Attack(fromX, fromY, toX, toY <a href="http://localhost:6060/pkg/builtin/#int">int</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Attack permet de lancer une attaque. fromX et fromY sont les coordonnées de
la case qui lance l'attaque et toX et toY sont les coordonnées de la case
ciblée par l'attaque.
</p>
<p>
Attention: Si les 4 valeurs sont égales à 255 cela sera interprété comme la
fin des attaques. Si c'est ce que vous voulez faire utilisez plutot la
méthode EndAttacks
</p>
<p>
Si cette méthode renvoie une erreur c'est qu'il y a eu une erreur réseau.
</p>






				<h3 id="Client.Connect">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/client.go?s=1914:1973#L78">Connect</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) Connect(url <a href="http://localhost:6060/pkg/builtin/#string">string</a>, teamName <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Connect Se connecte au serveur de jeu. Il envoie le nom de l'équipe
et récupère son identifiant numérique.
</p>
<p>
L'url doit être de la forme IP:PORT.
</p>
<p>
Exemple :
</p>
<pre>c := NewClient()
c.Connect("127.0.0.1:1337", "MonEquipe")
</pre>
<p>
Une fois appelée l'id et le nom de l'équipe sont disponibles dans les champs
ID et Name de Client.
</p>
<pre>c.ID // ID De l'équipe
c.Name // Nom de l'équipe
</pre>






				<h3 id="Client.EndAddingUnits">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/placement.go?s=1952:1991#L62">EndAddingUnits</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) EndAddingUnits() <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
EndAddingUnits termine la phase de placement des unités. Cette fonction
va envoyer vos choix au serveur et mettre à jour la map.
</p>
<p>
Si cette fonction renvoie une erreur c'est qu'il y a eu une erreur réseau
</p>






				<h3 id="Client.EndAttacks">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/attack.go?s=1156:1198#L35">EndAttacks</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) EndAttacks() (<a href="http://localhost:6060/pkg/builtin/#int">int</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
EndAttacks permet de prévenir le serveur que l'on a fini toutes nos attaques.
Cette fonction va également attendre le début de la phase de placement et
initialiser les champs nécessaires à la phase de placement.
</p>






				<h3 id="Client.Get">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=2393:2429#L118">Get</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) Get(x, y <a href="http://localhost:6060/pkg/builtin/#int">int</a>) *<a href="#Cell">Cell</a></pre>
				<p>
Get alias c.GetField().Get()
</p>






				<h3 id="Client.GetField">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=2305:2339#L113">GetField</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) GetField() *<a href="#Field">Field</a></pre>
				<p>
GetField renvoie le champ de bataille courant
</p>






				<h3 id="Client.GetMap">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=2197:2229#L108">GetMap</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) GetMap() *<a href="#Field">Field</a></pre>
				<p>
GetMap alias de GetField
</p>






				<h3 id="Client.MyCells">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=2539:2573#L123">MyCells</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) MyCells() []*<a href="#Cell">Cell</a></pre>
				<p>
MyCells renvoie une liste des cellules qui appartiennent au joueur courant
</p>






				<h3 id="Client.NextTurn">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/client.go?s=2931:2964#L127">NextTurn</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) NextTurn() <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
NextTurn : attends le tour suivant.
</p>
<p>
Cette fonction va attendre le tour suivant, met à jour la map et calcul si
l'on a gagné ou perdu. Il est conseillé de faire un test de status après
l'appel à cette fonction.
</p>
<p>
Si cette fonction renvoit une erreur, c'est qu'il y a eu un problème lors des
appels réseau. Il y a de grande chance que l'on ne soit pas en état de
continuer.
</p>






				<h3 id="Client.RemainingUnits">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/placement.go?s=1653:1690#L54">RemainingUnits</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) RemainingUnits() <a href="http://localhost:6060/pkg/builtin/#int">int</a></pre>
				<p>
RemainingUnits renvoie le nombre d'unités que vous pouvez encore placer
pendant ce tour.
</p>






				<h3 id="Client.Status">func (*Client) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/client.go?s=3430:3459#L155">Status</a></h3>
				<pre>func (c *<a href="#Client">Client</a>) Status() <a href="http://localhost:6060/pkg/builtin/#int">int</a></pre>
				<p>
Status : renvoie le status actuel du client. Les valeurs possibles sont :
</p>
<pre>ONGOING // La partie est en cours
DEFEAT // On a perdu
VICTORY // On a gagné
CONNECTION_LOST // La connexion au serveur à été perdue
</pre>








			<h2 id="Field">type <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=68:128#L1">Field</a></h2>
			<pre>type Field struct {
    SizeX <a href="http://localhost:6060/pkg/builtin/#int">int</a>
    SizeY <a href="http://localhost:6060/pkg/builtin/#int">int</a>
    Field [][]*<a href="#Cell">Cell</a>
}</pre>
			<p>
Field décrit le champ de bataille
</p>














				<h3 id="Field.Get">func (*Field) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=1682:1717#L80">Get</a></h3>
				<pre>func (f *<a href="#Field">Field</a>) Get(x, y <a href="http://localhost:6060/pkg/builtin/#int">int</a>) *<a href="#Cell">Cell</a></pre>
				<p>
Get permet de récupérer la cellule aux coordonnées x,y. Si les coordonnées
sont invalides, alors la fonction renverra nil.
</p>






				<h3 id="Field.OwnedBy">func (*Field) <a href="http://localhost:6060/src/pkg/git.ares-ensiie.eu/hackathon/hackathon-go-client/client/field.go?s=1944:1982#L94">OwnedBy</a></h3>
				<pre>func (f *<a href="#Field">Field</a>) OwnedBy(p <a href="http://localhost:6060/pkg/builtin/#int">int</a>) []*<a href="#Cell">Cell</a></pre>
				<p>
OwnedBy permet de récupérer la liste des cellules appartenant au propriétaire
passé en paramètre.
</p>
















<div id="footer">
Build version go1.3.2.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6060/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

</div><!-- #mainframe -->
<div id="lowframe" style="position: absolute; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<!-- TODO(adonovan): load these from <head> using "defer" attribute? -->
<script type="text/javascript" src="./doc_files/jquery.js"></script>
<script type="text/javascript" src="./doc_files/jquery.treeview.js"></script>
<script type="text/javascript" src="./doc_files/jquery.treeview.edit.js"></script>


<script type="text/javascript" src="./doc_files/godocs.js"></script>




<iframe name="oauth2relay1286108781" id="oauth2relay1286108781" src="./doc_files/postmessageRelay.html" tabindex="-1" aria-hidden="true" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe></body></html>
